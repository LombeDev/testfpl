/* --- 1. THE ADDICTIVE ENGINE (Animations & Variables) --- */
:root {
    --fpl-purple: #37003c;
    --fpl-green: #00ff87;
    --fpl-pink: #ff2882;
    --bg: #f2f2f7;
    --pitch-green: #2d9e63;
    /* Bouncy timing function for a "playful" feel */
    --elastic: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* --- 2. TACTILE FEEDBACK (Emotional Response) --- */
* { 
    box-sizing: border-box; 
    -webkit-tap-highlight-color: transparent; 
}

/* Every card and row now feels "pressable" */
.card, .squad-row, .modal-content, .mini-tag {
    transition: transform 0.2s var(--elastic), box-shadow 0.2s ease;
}

/* Shrink effect when touching to mimic a physical button press */
.card:active, .squad-row:active {
    transform: scale(0.98);
}

.mini-tag:hover {
    transform: translateY(-1px);
    filter: brightness(1.1);
}

/* --- 3. GLOBAL ENHANCEMENTS --- */
body {
    font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto;
    margin: 0; background: var(--bg); color: #1a1a1a;
    font-size: 11px; line-height: 1.2;
    scroll-behavior: smooth;
}

/* Add a subtle entrance animation for the main table */
#league-table tr {
    animation: slideIn 0.3s ease forwards;
    opacity: 0;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateX(-5px); }
    to { opacity: 1; transform: translateX(0); }
}

/* Staggered load for rows */
#league-table tr:nth-child(1) { animation-delay: 0.05s; }
#league-table tr:nth-child(2) { animation-delay: 0.1s; }
#league-table tr:nth-child(3) { animation-delay: 0.15s; }

/* --- 4. TABLE & DATA REWARDS --- */
.card { 
    background: white; 
    margin: 5px; 
    border-radius: 8px; 
    overflow: hidden; 
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); 
}

/* Make live points glow slightly to show they are "Active" */
.live-pts {
    color: var(--fpl-purple);
    font-weight: 900;
    text-shadow: 0 0 8px rgba(0, 255, 135, 0.2);
}

/* --- 5. MODAL PLAYFULNESS (The Pitch) --- */
.modal-overlay {
    background: rgba(55, 0, 60, 0.4); /* FPL Purple tinted overlay */
    backdrop-filter: blur(12px);
    transition: all 0.3s ease;
}

.modal-content {
    animation: modalPop 0.4s var(--elastic);
    border: 1px solid rgba(255,255,255,0.2);
}

@keyframes modalPop {
    0% { transform: scale(0.8) translateY(20px); opacity: 0; }
    100% { transform: scale(1) translateY(0); opacity: 1; }
}

/* Jersey Interaction */
.jersey {
    cursor: pointer;
    filter: drop-shadow(0 4px 4px rgba(0,0,0,0.2));
    transition: transform 0.3s var(--elastic);
}

.jersey:hover {
    transform: scale(1.15) rotate(5deg);
}

/* Jersey Shape logic preserved from original */
.jersey {
    width: 38px;
    height: 34px;
    background-color: var(--team-main, #eee);
    clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 85% 45%, 75% 35%, 75% 100%, 25% 100%, 25% 35%, 15% 45%, 0% 20%);
    position: relative;
}

/* --- 6. LOADING SPINNER UPGRADE --- */
.fpl-spinner {
    width: 30px;
    height: 30px;
    border: 4px solid var(--fpl-green);
    border-top: 4px solid var(--fpl-purple);
    border-radius: 50%;
    filter: drop-shadow(0 0 5px var(--fpl-green));
}

/* --- 7. JERSEY DESIGNS (ALL PRESERVED) --- */
.jersey.arsenal      { --team-main: #ef0107; border-top: 5px solid #fff; }
.jersey.aston_villa  { --team-main: #95bfe5; border-left: 10px solid #670e36; border-right: 10px solid #670e36; }
.jersey.man_city     { --team-main: #6cabdd; border-right: 4px solid #fff; }
.jersey.liverpool    { --team-main: #c8102e; border-bottom: 3px solid #f6eb61; }
.jersey.man_utd      { --team-main: #da291c; border-bottom: 4px solid #000; }
.jersey.newcastle    { --team-main: #000; background-image: linear-gradient(90deg, #000 50%, #fff 50%); background-size: 10px 100%; }
.jersey.gkp_color    { --team-main: #e1ff00; }

/* --- 8. REMAINING ORIGINAL IDS/CLASSES --- */
.table-wrapper { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }
#league-table { width: 100%; border-collapse: collapse; table-layout: fixed; min-width: 480px; }
.rank-col { width: 18px !important; text-align: center; }
.manager-col { width: 100px !important; }
.pts-col, .total-col { width: 32px !important; text-align: center; }
.cap-col { width: 60px !important; }
.diff-col, .trans-col { width: 75px !important; }

/* The "Pulse" for the Captain Star */
@keyframes pulse-star {
    0% { transform: scale(1); filter: brightness(1); }
    50% { transform: scale(1.3); filter: brightness(1.2); }
    100% { transform: scale(1); filter: brightness(1); }
}

.cap-star-pitch {
    animation: pulse-star 2s infinite ease-in-out;
}