<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compact EPL FDR</title>
    <link rel="stylesheet" href="plan.css">
    <style>
        :root {
            --pl-purple: #37003c;
            --fdr-2: #00ff85; /* Easy */
            --fdr-3: #ebebeb; /* Neutral */
            --fdr-4: #ff005a; /* Hard */
            --fdr-5: #80072d; /* Very Hard */
        }

        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background: #fff; 
            margin: 0; 
            padding: 10px; 
            color: #333;
        }

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        h1 { font-size: 16px; margin: 0; color: var(--pl-purple); }
        
        #teamSearch {
            padding: 4px 8px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 12px;
            width: 180px;
        }

        .table-container { 
            overflow-x: auto; 
            border: 1px solid #ccc;
        }

        table { 
            border-collapse: collapse; 
            width: max-content; /* Shrinks to content */
            table-layout: fixed; /* Faster rendering & exact widths */
        }
        
        th { 
            background: var(--pl-purple); 
            color: white; 
            padding: 4px 2px; 
            font-size: 10px; 
            position: sticky; 
            top: 0; 
            z-index: 10;
            width: 55px; /* Forced narrow width for GW columns */
        }
        
        td { 
            padding: 4px 1px; 
            text-align: center; 
            font-weight: bold; 
            font-size: 10px; 
            border: 0.5px solid #fff; 
            line-height: 1.1;
            white-space: nowrap;
        }

        /* Narrower Sticky Column */
        .sticky-col {
            position: sticky; 
            left: 0; 
            background: #eee !important;
            z-index: 15; 
            text-align: left !important; 
            width: 100px !important; /* Extremely narrow team name col */
            color: var(--pl-purple); 
            border-right: 2px solid #bbb !important;
            padding-left: 5px;
            font-size: 11px;
        }

        /* FDR Color Levels */
        .d2 { background-color: var(--fdr-2); color: var(--pl-purple); }
        .d3 { background-color: var(--fdr-3); color: var(--pl-purple); }
        .d4 { background-color: var(--fdr-4); color: white; }
        .d5 { background-color: var(--fdr-5); color: white; }

        tr:hover td:not(.sticky-col) { opacity: 0.8; }
    </style>
</head>
<body>

<section id="fdr-section-wrapper">
    <div class="fdr-controls">
        <span style="font-weight:bold; color:#37003c;">FDR
Gameweek </span>
        <input type="text" id="fdrSearch" placeholder="Search team..." 
               style="font-size:12px; padding:4px; border:1px solid #ccc; border-radius:3px;">
    </div>

    <div class="table-scroll">
        <table id="fdrTable">
            <thead><tr id="fdrHeader"><th class="sticky-team">Team</th></tr></thead>
            <tbody id="fdrBody">
                </tbody>
        </table>
    </div>
</section>

    <section id="fixtures-module" class="card">
    <div class="fixtures-header">
        <div class="title-group">
            <h1>Fixtures</h1>
            <p id="gw-title">Gameweek 20</p>
        </div>
        <button class="next-btn" onclick="nextGW()">NEXT</button>
    </div>

    <div id="fdrBody">
        <div style="text-align: center; padding: 20px; opacity: 0.5;">
            <i class="fa-solid fa-spinner fa-spin"></i> Loading Fixtures...
        </div>
    </div>
</section>

    <script src="plan.js" defer></script>
    <script src="planfix.js" defer></script>
</body>

</html>
