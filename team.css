/* --- 1. CORE THEME & LAYOUT --- */
:root {
    --fpl-purple: #37003c;
    --fpl-green: #00ff87;
    --fpl-primary: #ff005a;
    --pitch-green: #2d9e63;
    --dark-blue: #02162b;
    --bg-light: #f8fafc;
    --border: #e2e8f0;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', Roboto, sans-serif; background: var(--bg-light); color: #1a1a1a; overflow-x: hidden; }

/* Constrain the app width to prevent it from getting too big */
.main-container { 
    max-width: 500px; 
    margin: 0 auto; 
    padding: 10px; 
}

/* --- 2. THE BUTTON ROW (Pill Style) --- */
.button-row {
    display: flex;
    overflow-x: auto;
    white-space: nowrap;
    gap: 12px;
    padding: 15px 5px;
    margin-bottom: 10px;
    width: 100%;
    scrollbar-width: none; 
    -ms-overflow-style: none;
    align-items: center;
}
.button-row::-webkit-scrollbar { display: none; }

.btn-primary, .ai-action-btn, .btn-reset {
    flex-shrink: 0 !important;
    display: inline-flex !important;
    background-color: #f8faff !important;
    color: #0f172a !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 50px !important;
    padding: 10px 20px !important;
    font-weight: 600 !important;
    font-size: 0.85rem !important;
    text-transform: none !important;
    cursor: pointer;
    align-items: center;
    justify-content: center;
    gap: 8px;
    height: 42px;
}

/* --- 3. PITCH & ROW ALIGNMENT --- */
.pitch-outer-wrap { 
    background: var(--pitch-green); 
    border-radius: 12px; 
    padding: 25px 10px; 
    position: relative;
    background-image: repeating-linear-gradient(0deg, transparent, transparent 40px, rgba(0,0,0,0.05) 40px, rgba(0,0,0,0.05) 80px);
    min-height: 600px;
}

.row { 
    display: flex; 
    justify-content: space-around; /* Organizes players evenly across the width */
    align-items: flex-start;
    margin-bottom: 30px; 
    width: 100%;
    position: relative; 
    z-index: 2; 
}

/* --- 4. PLAYER SLOT & CALAFIORI CARD --- */
.slot {
    width: 90px; 
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
}

/* Jersey overlaps the card header */
.jersey {
    width: 45px; 
    height: 40px;
    z-index: 3;
    margin-bottom: -10px; 
    position: relative;
    cursor: pointer;
    background-color: var(--team-main, #eee);
    clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 85% 45%, 75% 35%, 75% 100%, 25% 100%, 25% 35%, 15% 45%, 0% 20%);
    transition: transform 0.2s;
}

.player-card {
    width: 100%;
    background: #ffffff;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    display: flex;
    flex-direction: column;
    z-index: 2;
}

.card-header {
    background: #004d3d !important; /* Dark Hub Green */
    color: white !important;
    padding: 5px 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    min-height: 26px;
}

.player-name-tag {
    font-size: 10px;
    font-weight: 800;
    color: white !important;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 65%;
}

.p-xp {
    font-size: 9px;
    font-weight: 700;
    color: #ffffff !important;
    background: rgba(255,255,255,0.15);
    padding: 1px 4px;
    border-radius: 3px;
}

.card-fixtures {
    background: #ffffff;
    display: flex;
    justify-content: space-around;
    padding: 6px 2px;
    border-top: 1px solid #eee;
}

.fix-item {
    font-size: 8px;
    color: #333;
    font-weight: 700;
    text-align: center;
}

/* --- 5. JERSEY SYSTEM & BIG SIX --- */
.jersey.arsenal    { --team-main: #ef0107; border-top: 5px solid #fff; }
.jersey.man_city   { --team-main: #6cabdd; }
.jersey.liverpool  { --team-main: #c8102e; }
.jersey.newcastle  { --team-main: #000; background-image: linear-gradient(90deg, #000 50%, #fff 50%); background-size: 8px 100%; }
.jersey.gkp_color  { --team-main: #e1ff00; }
.jersey.default    { --team-main: #ccc; opacity: 0.6; }

/* --- 6. STATS BOXES --- */
.stats-summary { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0; }
.stat-box { background: white; padding: 15px; border-radius: 12px; text-align: center; border: 1px solid var(--border); }
.stat-value { font-size: 1.5rem; font-weight: 900; color: var(--fpl-purple); }
#team-rating { color: var(--fpl-primary); }
