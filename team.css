/* ============================================================
   KOPALA FPL - 1:1 AUTHENTIC UI REPLICA (v4.5)
   ============================================================ */

:root {
    --fpl-purple: #37003c;
    --fpl-green: #00ff87;
    --fpl-pink: #ff005a;        /* Top screenshot fixture bar */
    --fpl-pale-purple: #f2e7f2; /* Bottom screenshot fixture bar */
    --fpl-text-purple: #37003c;
    --pitch-green: #2d9e63;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', 'Segoe UI', sans-serif; background: #f8fafc; color: #1a1a1a; }

/* --- PITCH LAYOUT --- */
.main-container { max-width: 500px; margin: 0 auto; padding: 10px; }
.pitch-outer-wrap { 
    background: var(--pitch-green); 
    border-radius: 8px; 
    padding: 20px 5px; 
    position: relative;
    background-image: repeating-linear-gradient(0deg, transparent, transparent 40px, rgba(0,0,0,0.05) 40px, rgba(0,0,0,0.05) 80px);
}
.row { display: flex; justify-content: center; gap: 4px; margin-bottom: 25px; position: relative; z-index: 2; }

/* --- THE PLAYER SLOT --- */
.slot {
    width: 95px;
    height: 130px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end; /* Keeps tags anchored at the bottom */
    position: relative;
    cursor: pointer;
}

/* --- ACTION ICONS (MATCHED TO SCREENSHOTS) --- */
/* Info Icon (Right) */
.slot::after {
    content: 'i';
    position: absolute;
    top: 0; right: 5px;
    width: 18px; height: 18px;
    background: white; color: black;
    border-radius: 50%; display: flex; justify-content: center; align-items: center;
    font-size: 11px; font-weight: 900; font-style: italic; z-index: 10;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.jersey-actions {
    position: absolute;
    top: 0; left: 5px;
    display: flex; flex-direction: column; gap: 4px;
    z-index: 10;
}

.action-dot {
    width: 18px; height: 18px; border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    font-size: 10px; font-weight: 900;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}
.dot-swap { background: #e1ff00; color: #37003c; } /* Yellow arrows icon */
.dot-remove { background: #ff005a; color: white; } /* Red X icon */

/* --- THE JERSEY (FLOATING BEHIND) --- */
.jersey {
    width: 72px; height: 65px;
    position: absolute;
    top: 5px;
    z-index: 1;
    clip-path: polygon(25% 0%, 75% 0%, 100% 20%, 85% 45%, 75% 35%, 75% 100%, 25% 100%, 25% 35%, 15% 45%, 0% 20%);
    background-color: var(--team-main, #ccc);
    transition: transform 0.2s;
}

/* --- THE DATA CARD (STICKER LOOK) --- */
.player-card {
    width: 100%;
    background: white;
    border-radius: 8px; /* Smooth rounded corners from screenshots */
    overflow: hidden;
    z-index: 5;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.p-name {
    display: block;
    padding: 5px 2px;
    background: white;
    color: var(--fpl-text-purple);
    font-size: 12px;
    font-weight: 700;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* The Fixture Bar (Dynamic Colors) */
.card-fixtures {
    padding: 5px 0;
    font-size: 11px;
    font-weight: 800;
    text-align: center;
    background: var(--fpl-pale-purple); /* Default matches O'Reilly/Gabriel screenshot */
    color: var(--fpl-purple);
}

/* Bright Pink Variant (Matches Verbruggen screenshot) */
.slot.high-xp .card-fixtures {
    background: var(--fpl-pink);
    color: white;
}

/* --- 20-TEAM JERSEY LIBRARY --- */
.jersey.arsenal          { --team-main: #ef0107; border-top: 6px solid #fff; }
.jersey.aston_villa      { --team-main: #95bfe5; border-left: 12px solid #670e36; border-right: 12px solid #670e36; }
.jersey.bournemouth      { --team-main: #da291c; background-image: linear-gradient(90deg, #000 50%, #da291c 50%); background-size: 10px 100%; }
.jersey.brentford        { --team-main: #e30613; background-image: linear-gradient(90deg, #e30613 50%, #fff 50%); background-size: 10px 100%; }
.jersey.brighton         { --team-main: #0057b8; background-image: linear-gradient(90deg, #0057b8 50%, #fff 50%); background-size: 12px 100%; }
.jersey.chelsea          { --team-main: #034694; }
.jersey.crystal_palace   { --team-main: #1b458f; border-right: 18px solid #c4122e; }
.jersey.everton          { --team-main: #003399; }
.jersey.fulham           { --team-main: #ffffff; border-right: 12px solid #000; border-left: 1px solid #ddd; }
.jersey.ipswich          { --team-main: #00529b; border-top: 5px solid #fff; }
.jersey.leicester        { --team-main: #003090; border-top: 4px solid #fdbe11; }
.jersey.liverpool        { --team-main: #c8102e; }
.jersey.man_city         { --team-main: #6cabdd; }
.jersey.man_utd          { --team-main: #da291c; border-bottom: 5px solid #000; }
.jersey.newcastle        { --team-main: #000; background-image: linear-gradient(90deg, #000 50%, #fff 50%); background-size: 10px 100%; }
.jersey.nottingham_forest { --team-main: #dd0000; }
.jersey.southampton      { --team-main: #fff; background-image: linear-gradient(90deg, #d71920 50%, #fff 50%); background-size: 15px 100%; }
.jersey.tottenham        { --team-main: #ffffff; border-top: 8px solid #132257; }
.jersey.west_ham         { --team-main: #7a263a; border-top: 6px solid #1bb1e7; }
.jersey.wolves           { --team-main: #fdb913; border-bottom: 5px solid #231f20; }
.jersey.gkp_color        { --team-main: #00ff87; } /* Brighton GK Green */
.jersey.default          { --team-main: #ccc; opacity: 0.5; }

/* --- INTERACTION --- */
.hidden-picker {
    position: absolute;
    inset: 0; width: 100%; height: 100%;
    opacity: 0; cursor: pointer; z-index: 15;
}

.slot:hover .jersey { transform: translateY(-5px); }
