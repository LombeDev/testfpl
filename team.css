/* team.css
   Updated: 2026-01-06
   Purpose: Styles tuned to the updated team.js and refreshed to a
   professional "Fantasy Football Hub - My Team" look and feel.
   - Adds polished pitch + card styles
   - Ensures injected player modal & picker controls look native
   - Makes hidden-picker usable (visible on hover) while keeping compact UI
   - Improves responsiveness and visual hierarchy
*/

/* ---- THEME VARIABLES ---- */
:root{
  --fpl-purple: #37003c;
  --fpl-pink:   #ff005a;
  --fpl-green:  #00ff87;
  --pitch-green: #0da36b;
  --card-bg:    #ffffff;
  --muted:      #8b97a8;
  --glass:      rgba(255,255,255,0.06);
  --shadow:     0 8px 30px rgba(7,11,13,0.08);
  --border:     #e6eef6;
  --max-width: 1160px;
  --radius: 12px;
  --font-sans: 'Inter', 'Segoe UI', Roboto, system-ui, -apple-system, "Helvetica Neue", Arial;
}

/* base */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font-sans);
  background:linear-gradient(180deg,#f6f8fb 0%, #f0f4f8 100%);
  color:#071126;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* container */
.main-container{
  max-width:var(--max-width);
  margin:18px auto;
  padding:18px;
}

/* NAVBAR & DRAWER */
.navbar{
  background:var(--fpl-purple);
  color:white;
  padding:14px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  border-radius:10px;
  box-shadow:0 8px 30px rgba(55,0,60,0.08);
}
.brand{ font-weight:900; font-size:1.15rem; letter-spacing:-0.3px; color:#fff }
.brand span{ color:var(--fpl-green); margin-left:6px }

.drawer{ position:fixed; left:-320px; top:0; bottom:0; width:300px; background:var(--card-bg); z-index:1500; box-shadow:8px 0 30px rgba(0,0,0,0.12); transition:left .28s ease; border-radius:0 10px 10px 0; overflow:auto }
.drawer.open{ left:0 }

.backdrop{ position:fixed; inset:0; background:rgba(0,0,0,0.45); z-index:1400; display:none }
.backdrop.active{ display:block }

/* TICKER & STATUS */
.ticker{
  background:#0b1220;
  color:var(--fpl-green);
  padding:8px 12px;
  font-weight:700;
  font-size:13px;
  border-radius:8px;
  display:inline-block;
  box-shadow: 0 6px 18px rgba(13,163,107,0.06);
}

.status-bar{
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
  margin:14px 0;
  padding:12px;
  background:var(--card-bg);
  border-radius:10px;
  border:1px solid rgba(10,10,12,0.04);
  box-shadow:var(--shadow);
}

/* FORMATION & PICKERS (inline) */
.status-controls{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.status-controls select,
.status-controls input{
  padding:8px 10px;
  border-radius:10px;
  border:1px solid #e6eef6;
  background:#fff;
  font-weight:600;
  color:#071126;
  font-size:0.92rem;
}

/* PITCH AREA */
.pitch-outer-wrap{
  background: linear-gradient(180deg, rgba(8,150,110,0.12), rgba(9,122,96,0.06));
  border-radius:14px;
  padding:18px;
  position:relative;
  box-shadow: 0 18px 40px rgba(6,18,13,0.06);
  border:1px solid rgba(8,150,110,0.06);
}

/* center pitch label */
.pitch-labels{
  position:absolute;
  inset:14px 12px auto 12px;
  display:flex;
  gap:14px;
  justify-content:space-between;
  pointer-events:none;
  z-index:1;
  width:calc(100% - 24px);
}

/* pitch container */
.pitch{
  padding:26px 12px 12px;
  display:flex;
  flex-direction:column;
  gap:18px;
  align-items:center;
  justify-content:center;
}

/* rows and slots */
.row{ display:flex; gap:12px; align-items:flex-end; justify-content:center; z-index:5 }
.slot{
  width:120px;
  min-height:86px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  gap:6px;
  transition:transform .18s ease, box-shadow .18s ease;
  position:relative;
}
.slot.selected{ transform:translateY(-6px) scale(1.03); box-shadow:0 18px 40px rgba(10,20,30,0.08) }

/* jersey */
.jersey{
  width:60px;
  height:54px;
  cursor:pointer;
  background-color:var(--team-main,#ddd);
  clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 85% 45%, 75% 35%, 75% 100%, 25% 100%, 25% 35%, 15% 45%, 0% 20%);
  transition: transform .18s ease, box-shadow .18s ease;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  position:relative;
  border-radius:6px;
  box-shadow:0 6px 18px rgba(7,11,13,0.06);
}

/* small price/flag on jersey top-right */
.jersey::after{
  content: attr(data-price);
  position:absolute;
  top:6px;
  right:6px;
  font-size:11px;
  padding:2px 6px;
  border-radius:12px;
  background:rgba(0,0,0,0.6);
  color:#fff;
  font-weight:700;
  display:block;
}

/* player card under jersey */
.player-card{
  width:100%;
  background:var(--card-bg);
  border-radius:10px;
  padding:8px 10px;
  box-shadow:0 6px 18px rgba(10,20,30,0.04);
  border:1px solid rgba(10,20,30,0.03);
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:center;
}

/* player name & small meta row */
.p-name{
  font-weight:800;
  font-size:0.95rem;
  color:var(--fpl-purple);
  text-align:center;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  max-width:100%;
  cursor:pointer;
}
.p-meta{
  display:flex;
  gap:8px;
  width:100%;
  justify-content:center;
  align-items:center;
  font-size:0.82rem;
  color:var(--muted);
}
.p-xp{ color:var(--fpl-green); font-weight:800; font-size:0.82rem }

/* fixtures */
.card-fixtures{
  display:flex;
  gap:6px;
  width:100%;
  justify-content:space-between;
  margin-top:4px;
}
.fix-item{
  flex:1;
  background:#f7fafc;
  padding:6px 4px;
  border-radius:6px;
  font-size:12px;
  color:#263445;
  text-align:center;
  border:1px solid rgba(10,20,30,0.03);
}

/* difficulty indicators */
.diff-2{ border-left:4px solid var(--fpl-green); }
.diff-3{ border-left:4px solid #ffd166; }
.diff-4{ border-left:4px solid var(--fpl-pink); }

/* bench row */
.bench-area{
  margin-top:12px;
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
}

/* hidden picker - show on slot hover, keep accessible */
.hidden-picker{
  width:100%;
  margin-top:6px;
  opacity:0;
  height:0;
  border-radius:8px;
  transition:all .18s ease;
  pointer-events:none;
}
.slot:hover .hidden-picker{
  opacity:1;
  height:auto;
  pointer-events:auto;
  transform:translateY(0);
  margin-top:6px;
  display:block;
}

/* style native select inside */
.hidden-picker{
  appearance:none;
  -webkit-appearance:none;
  background:#fff;
  border:1px solid rgba(10,20,30,0.06);
  padding:8px 10px;
  color:#0f172a;
  font-weight:700;
  border-radius:10px;
  cursor:pointer;
}

/* picker small caret */
.hidden-picker::-ms-expand{ display:none }

/* STATS SUMMARY panel (right column in original layout) */
.stats-summary{
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(160px,1fr));
  gap:14px;
  margin-top:18px;
}
.stat-box, .stat-item{
  background:var(--card-bg);
  border-radius:12px;
  padding:14px;
  border:1px solid rgba(10,20,30,0.03);
  box-shadow:0 8px 26px rgba(10,20,30,0.04);
  text-align:center;
}
.stat-label{ font-size:0.75rem; font-weight:800; color:var(--muted); text-transform:uppercase; letter-spacing:0.6px }
.stat-value{ font-size:1.6rem; font-weight:900; color:var(--fpl-purple) }

/* action buttons */
.btn-group{ display:flex; gap:12px; flex-wrap:wrap }
.ai-action-btn, .btn-primary, .btn-reset{
  display:inline-flex;
  gap:10px;
  align-items:center;
  justify-content:center;
  padding:10px 18px;
  border-radius:999px;
  font-weight:800;
  border:1px solid rgba(10,20,30,0.06);
  background:linear-gradient(90deg, #fff 0%, #fbfbff 100%);
  color:var(--fpl-purple);
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease;
  box-shadow:0 6px 18px rgba(7,11,13,0.04);
}
.ai-action-btn{
  background: linear-gradient(90deg, rgba(55,0,60,0.98) 0%, rgba(0,255,135,0.06) 100%);
  color:#fff;
  border:none;
  box-shadow:0 12px 30px rgba(0,255,135,0.08);
}
.ai-action-btn:hover{ transform:translateY(-3px) }

/* TRANSFER CARD / ANALYSIS */
.ai-card{
  margin-top:18px;
  background:var(--card-bg);
  border-radius:14px;
  padding:16px;
  border:1px solid rgba(10,20,30,0.04);
  box-shadow:var(--shadow);
}
.verdict-label{ display:flex; gap:8px; align-items:center; color:var(--fpl-purple); font-weight:900 }
.transfer-row{
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
  padding:10px;
  border-radius:10px;
  background:linear-gradient(180deg,#fff,#fbfbff);
  border:1px solid rgba(10,20,30,0.03);
}

/* modal - reuse same modal classes as JS creates */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(5,8,12,0.6);
  z-index:3000;
  backdrop-filter: blur(4px);
  padding:36px 20px;
}
.modal .modal-content{
  max-width:720px;
  margin:40px auto;
  background:var(--card-bg);
  border-radius:14px;
  padding:22px;
  border:1px solid rgba(55,0,60,0.06);
  box-shadow:0 24px 60px rgba(7,11,13,0.12);
  color:var(--fpl-purple);
}

/* close button */
.close-btn, #close-player-modal, #close-modal{
  background:transparent;
  border:none;
  color:var(--muted);
  font-size:20px;
  cursor:pointer;
}
.close-btn:hover, #close-player-modal:hover, #close-modal:hover{ color:var(--fpl-pink) }

/* analysis section inside modal */
.analysis-section h3{
  color:var(--fpl-green);
  margin:0 0 8px 0;
  font-size:1.05rem;
}
.transfer-item{
  background: #fff;
  border-left:4px solid var(--fpl-pink);
  padding:12px;
  margin-bottom:10px;
  border-radius:8px;
  color:var(--fpl-purple);
  font-weight:700;
}

/* player modal content */
#player-modal-content h3{ margin:0 0 6px 0; font-size:1.2rem }
#player-modal-content p{ margin:6px 0; color:#425066 }
#player-modal .card-fixtures{ margin-top:10px }

/* responsive tweaks */
@media (max-width:920px){
  .slot{ width:100px }
  .jersey{ width:52px; height:46px }
  .player-card{ padding:8px }
  .main-container{ padding:10px }
  .pitch-outer-wrap{ padding:12px }
}
@media (max-width:560px){
  .row{ gap:8px }
  .slot{ width:92px }
  .stats-summary{ grid-template-columns:1fr; padding:12px }
  .status-bar{ flex-direction:column; align-items:flex-start; gap:8px; }
}

/* small helpers */
.text-muted{ color:var(--muted) }
.u-center{ text-align:center }
.hidden{ display:none }



/* --- JS-INJECTED PICKER CONTROLS --- */

/* This targets the wrapper div the JS creates */
.status-bar div[style*="inline-flex"] {
    display: flex !important;
    flex-wrap: wrap;
    gap: 12px !important;
    margin-left: 0 !important; /* Resetting the JS inline margin */
    padding: 10px;
    background: rgba(0,0,0,0.02);
    border-radius: 12px;
}

/* Style the Labels */
.status-bar label {
    font-size: 0.7rem !important;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--fpl-on-container);
    opacity: 0.6;
    font-weight: 800 !important;
}

/* Style the Numeric Inputs (Min Price, Max Price, Min Own) */
#picker-min-price, 
#picker-max-price, 
#picker-min-ownership {
    border: 1px solid var(--fpl-border) !important;
    background: var(--fpl-container) !important;
    color: var(--fpl-on-container) !important;
    border-radius: 8px !important;
    padding: 5px 8px !important;
    font-weight: 700 !important;
    font-family: inherit;
    outline: none;
    transition: all 0.2s ease;
}

/* Style the Sort Dropdown */
#picker-sort {
    border: 1px solid var(--fpl-border) !important;
    background: var(--fpl-container) !important;
    color: var(--fpl-on-container) !important;
    border-radius: 8px !important;
    padding: 5px 10px !important;
    font-weight: 700 !important;
    cursor: pointer;
    outline: none;
}

/* Hover & Focus Effects */
#picker-min-price:focus, 
#picker-max-price:focus, 
#picker-sort:focus {
    border-color: var(--fpl-primary) !important;
    box-shadow: 0 0 0 2px rgba(255, 0, 90, 0.1);
}

/* Styling the "BANK" part specifically since it's a span */
.status-bar > span:first-child {
    font-weight: 900;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 5px;
}

#budget-val {
    background: var(--fpl-on-container);
    color: var(--fpl-primary) !important;
    padding: 4px 10px;
    border-radius: 20px;
    font-family: monospace;
}


/* --- FORMATION SELECTOR STYLING --- */
#formation-select {
    appearance: none;
    -webkit-appearance: none;
    background-color: var(--fpl-surface);
    color: var(--fpl-on-container);
    border: 2px solid var(--fpl-border);
    padding: 6px 30px 6px 12px; /* Extra right padding for the arrow */
    border-radius: 10px;
    font-weight: 800;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.3s ease;
    
    /* Custom Arrow SVG */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ff005a'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 14px;
}

#formation-select:hover {
    border-color: var(--fpl-primary);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

#formation-select:focus {
    outline: none;
    border-color: var(--fpl-primary);
}

/* Dark Mode adjustment for the arrow color */
body.dark-mode #formation-select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

/* Optional: Add a label prefix using CSS if you want it to say "FORM: 4-4-2" */
.status-bar::before {
    /* Only if you want a label before the bank */
}
