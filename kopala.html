<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOPALA FPL MINI LEAGUE </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="kopala.css">
    <style>
        /* Compact Pro Styles to ensure everything fits */
        :root {
            --fpl-purple: #37003c;
            --fpl-green: #00ff87;
            --fpl-pink: #ff005a;
            --fpl-blue: #04f5ff;
        }

        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f4f9; margin: 0; }
        
        /* Ticker Style Match Center */
        #match-center-content {
            background: var(--fpl-purple);
            color: white;
            padding: 12px;
            font-size: 13px;
            border-radius: 8px;
            margin: 15px auto;
            max-width: 1200px;
            border-left: 5px solid var(--fpl-green);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .table-container { overflow-x: auto; background: white; border-radius: 8px; }
        
        #league-table { 
            width: 100%; 
            border-collapse: collapse; 
            font-size: 11px; /* Compact font */
        }

        #league-table th { 
            background: #f8f9fa; 
            color: #888; 
            text-transform: uppercase; 
            letter-spacing: 0.5px; 
            padding: 12px 8px;
            border-bottom: 2px solid #eee;
        }

        #league-table td { padding: 8px; border-bottom: 1px solid #f0f0f0; vertical-align: middle; }

        /* Column Specifics */
        .m-name { font-weight: bold; font-size: 12px; color: var(--fpl-purple); display: block; }
        .t-name { font-size: 10px; color: #666; }
        .live-pts { font-weight: 800; font-size: 14px; color: #333; }
        .bold-p { font-weight: 800; font-size: 14px; color: var(--fpl-purple); }
        .proj-val { color: #007bff; font-weight: bold; font-size: 10px; margin-top: 2px; }
        
        /* Rank Movement */
        .rank-move { font-size: 9px; font-weight: bold; }
        .rank-move.up { color: var(--fpl-green); }
        .rank-move.down { color: var(--fpl-pink); }

        /* Badges */
        .c-badge { background: var(--fpl-blue); color: var(--fpl-purple); padding: 1px 4px; border-radius: 3px; font-weight: 900; font-size: 9px; margin-left: 4px; }
        .d-tag { display: inline-block; background: #f0f0f0; border: 1px solid #ddd; padding: 2px 4px; border-radius: 3px; margin: 1px; font-size: 9px; color: #444; }
        .in-out { color: var(--fpl-green); font-size: 9px; line-height: 1.2; font-weight: 600; }
        .hits { color: var(--fpl-pink); font-size: 10px; font-weight: bold; }

        /* Heatmap Card */
        .heatmap-card { margin-top: 20px; padding: 15px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .heatmap-bar-bg { background: #eee; height: 8px; border-radius: 4px; margin: 4px 0; overflow: hidden; }
        .heatmap-bar-fill { background: linear-gradient(90deg, var(--fpl-purple), var(--fpl-green)); height: 100%; }
        
        /* Loading Overlay Customization */
        #loading-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.9); display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 1000;
        }
        #loading-overlay.hidden { display: none; }
    </style>
</head>
<body>

    <div id="side-drawer" class="drawer">
        <div class="drawer-header">
            <h2 class="brand">KOPALA <span>FPL</span></h2>
            <button id="close-btn">&times;</button>
        </div>
        <ul class="drawer-links">
            <li><a href="index.html"><i class=""></i> Home</a></li>
            <li><a href="team.html"><i class=""></i> My team by AI</a></li>
            <li><a href="price.html"><i class=""></i> Price Timer</a></li>
            <li><a href="transfer.html"><i class=""></i> Top Transfers</a></li>
            <li><a href="football.html"><i class=""></i> Football</a></li>
            <li><a href="contact.html"><i class=""></i> Contact Us</a></li>
        </ul>
    </div>

    <div id="backdrop" class="backdrop"></div>

    <nav class="navbar">
        <div class="nav-left">
            <div id="menu-btn" class="menu-icon">
                <span></span><span></span><span></span>
            </div>
            <h1 class="brand">KOPALA <span>FPL</span></h1>
        </div>
        <div class="nav-right">
            <span id="active-gw-label" class="gw-text">GW --</span>
            <button class="icon-btn search-btn" onclick="location.reload()">
                <i class="fas fa-sync-alt" style="color: white;"></i>
            </button>
        </div>
    </nav>

    <div class="main-container">
        <div id="match-center-content">Gathering live data...</div>

        <div class="card table-card">
            <div class="table-container">
                <table id="league-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Manager & Team</th>
                            <th>GW Score</th>
                            <th>Total (Proj)</th>
                            <th>Cap/Chip</th>
                            <th>Differentials</th>
                            <th>Transfers</th>
                        </tr>
                    </thead>
                    <tbody id="league-body">
                        </tbody>
                </table>
            </div>
        </div>

        <div id="captain-heatmap" class="heatmap-card">
            <h3 style="font-size: 14px; color: #37003c; margin-top: 0;">Captaincy</h3>
            <div id="heatmap-content">Waiting for data...</div>
        </div>
    </div>

    <div id="loading-overlay" class="hidden">
        <div class="fpl-spinner"></div>
        <p style="font-weight: bold; color: #37003c;">Syncing Mini-League Data...</p>
    </div>

    <footer>
        <p>&copy; 2026 Kopala FPL. Data synced with official FPL API.</p>
    </footer>

    <script src="kopala.js"></script>
    <script src="menu.js"></script>
</body>
</html>
